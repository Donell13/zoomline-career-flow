{{ 'component-list-menu.css' | asset_url | stylesheet_tag }}
{{ 'component-search.css' | asset_url | stylesheet_tag }}
{{ 'component-menu-drawer.css' | asset_url | stylesheet_tag }}
{{ 'component-cart-notification.css' | asset_url | stylesheet_tag }}
{{ 'component-cart-items.css' | asset_url | stylesheet_tag }}

{%- if settings.cart_type == "drawer" -%}
  {{ 'component-cart-drawer.css' | asset_url | stylesheet_tag }}
{%- endif -%}

{%- if section.settings.menu != blank -%}
  {%- if section.settings.menu_type_desktop == 'dropdown' -%}
    {{ 'component-menu-dropdown.css' | asset_url | stylesheet_tag }}
  {%- endif -%}

  {%- if section.settings.menu_type_desktop != 'drawer' -%}
    {{ 'component-menu-desktop.css' | asset_url | stylesheet_tag }}
  {%- endif -%}

  {%- if section.settings.menu_type_desktop == 'drawer' or section.settings.menu_type_mobile == 'drawer' -%}
    {{ 'component-menu-drawer.css' | asset_url | stylesheet_tag }}
  {%- endif -%}
{%- endif -%}

{%- if section.settings.enable_sticky_header -%}
  {{ 'component-sticky-header.css' | asset_url | stylesheet_tag }}
{%- endif -%}

<style>
  header-drawer {
    justify-self: start;
    margin-left: -1.2rem;
  }

  .header {
    padding: 10px var(--page-width-margin);
  }

  .header__heading-logo {
    max-width: 100%;
  }

  @media screen and (min-width: 990px) {
    .header {
      padding-top: 20px;
      padding-bottom: 20px;
    }
  }

  .header__heading,
  .header__heading-link {
    text-decoration: none;
    color: inherit;
  }

  .header__heading-link:hover .header__heading-logo-wrapper {
    transform: {{ section.settings.logo_hover_effect }};
  }

  .header__menu-item {
    list-style: none;
  }

  .header__menu-item a {
    padding: 1rem;
    text-decoration: none;
    color: hsl(var(--color-foreground));
    font-weight: 500;
    transition: color 0.3s ease;
  }

  .header__menu-item a:hover {
    color: hsl(var(--color-accent));
  }

  .header__menu-item.active a {
    color: hsl(var(--color-primary));
    font-weight: 600;
  }

  .header__icons {
    display: flex;
    align-items: center;
  }

  .header__icon {
    height: 4.4rem;
    width: 4.4rem;
    fill: transparent;
    stroke: currentColor;
  }

  .zoomline-logo {
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .zoomline-logo-icon {
    background: hsl(var(--color-accent));
    padding: 0.5rem;
    border-radius: 0.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .zoomline-logo-icon svg {
    width: 1.5rem;
    height: 1.5rem;
    color: hsl(var(--color-primary));
  }

  .zoomline-logo-text {
    font-size: 1.5rem;
    font-weight: 700;
    color: hsl(var(--color-foreground));
  }

  .header__cta-button {
    background: hsl(var(--color-primary));
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: 0.5rem;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
  }

  .header__cta-button:hover {
    background: hsl(var(--color-primary) / 0.9);
    transform: translateY(-2px);
  }
</style>

<script src="{{ 'details-disclosure.js' | asset_url }}" defer="defer"></script>
<script src="{{ 'details-modal.js' | asset_url }}" defer="defer"></script>

{%- if settings.cart_type == 'drawer' -%}
  <script src="{{ 'cart-drawer.js' | asset_url }}" defer="defer"></script>
{%- endif -%}

{%- style -%}
  .header {
    background: hsl(var(--color-background));
    border-bottom: 1px solid hsl(var(--color-border));
  }

  .header.color-accent-1 {
    background: rgba(var(--color-base-accent-1), var(--alpha-button-background));
  }

  .header.color-accent-2 {
    background: rgba(var(--color-base-accent-2), var(--alpha-button-background));
  }

  .header.color-background-1 {
    background: rgba(var(--color-base-background-1), var(--alpha-button-background));
  }

  .header.color-background-2 {
    background: rgba(var(--color-base-background-2), var(--alpha-button-background));
  }

  .header.color-inverse {
    background: rgba(var(--color-base-text), var(--alpha-button-background));
  }

  .header__heading-logo {
    max-width: {{ section.settings.logo_width }}px;
  }

  @media screen and (min-width: 750px) {
    .header__heading-logo {
      max-width: {{ section.settings.logo_width | times: 1.5 }}px;
    }
  }

  @media screen and (max-width: 989px) {
    .header__heading-logo {
      max-width: {{ section.settings.logo_width | times: 1.2 }}px;
    }
  }
{%- endstyle -%}

{%- liquid
  assign country_selector = false
  assign language_selector = false

  if section.settings.enable_country_selector and localization.available_countries.size > 1
    assign country_selector = true
  endif

  if section.settings.enable_language_selector and localization.available_languages.size > 1
    assign language_selector = true
  endif
-%}

<{% if section.settings.enable_sticky_header %}sticky-header data-sticky-type="{{ section.settings.sticky_header_type }}"{% else %}div{% endif %} class="header-wrapper color-{{ section.settings.color_scheme }} gradient{% if section.settings.show_line_separator %} header-wrapper--border-bottom{% endif %}">
  {%- liquid
    assign social_accounts = 'Instagram, TikTok, Tumblr, Snapchat, YouTube, Vimeo, Facebook, Twitter, Pinterest, LinkedIn' | split: ', '
    if settings.social_twitter_link != blank
      assign social_accounts = social_accounts | replace: 'Twitter', 'X'
    endif
  -%}

  <header class="header header--{{ section.settings.logo_position }} header--mobile-{{ section.settings.mobile_logo_position }} page-width{% if section.settings.menu_type_desktop == 'drawer' %} header--has-menu{% endif %}{% if section.settings.menu != blank %} header--has-social{% endif %}{% if section.settings.enable_country_selector or section.settings.enable_language_selector %} header--has-localizations{% endif %}">
    {%- if section.settings.menu != blank -%}
      <nav class="header__inline-menu">
        <ul class="list-menu list-menu--inline" role="list">
          {%- for link in section.settings.menu.links -%}
            <li class="header__menu-item{% if link.active %} active{% endif %}">
              <a
                href="{{ link.url }}"
                class="header__menu-item-link link link--text focus-inset"
                {% if link.current %} aria-current="page"{% endif %}
              >
                {%- liquid
                  echo link.title | escape
                -%}
              </a>
            </li>
          {%- endfor -%}
        </ul>
      </nav>
    {%- endif -%}

    {%- if request.page_type == 'index' -%}
      <h1 class="header__heading">
    {%- endif -%}
        <a href="{{ routes.root_url }}" class="header__heading-link link link--text focus-inset">
          {%- if settings.logo != blank -%}
            <div class="header__heading-logo-wrapper">
              {%- assign logo_alt = settings.logo.alt | default: shop.name | escape -%}
              {%- assign logo_height = settings.logo_width | divided_by: settings.logo.aspect_ratio -%}
              {{ settings.logo | image_url: width: 600 | image_tag:
                class: 'header__heading-logo motion-reduce',
                widths: '50, 100, 150, 200, 250, 300, 400, 500, 600',
                height: logo_height,
                width: settings.logo_width,
                alt: logo_alt
              }}
            </div>
          {%- else -%}
            <div class="zoomline-logo">
              <div class="zoomline-logo-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2"/>
                  <path d="M15 18H9"/>
                  <path d="M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14"/>
                  <circle cx="17" cy="18" r="2"/>
                  <circle cx="7" cy="18" r="2"/>
                </svg>
              </div>
              <span class="zoomline-logo-text">{{ shop.name }}</span>
            </div>
          {%- endif -%}
        </a>
    {%- if request.page_type == 'index' -%}
      </h1>
    {%- endif -%}

    <div class="header__icons header__icons--{{ section.settings.enable_customer_avatar }}">
      <div class="desktop-localization-wrapper">
        {%- if country_selector and section.settings.enable_country_selector -%}
          <localization-form>
            {%- form 'localization', id: 'HeaderCountryForm', class: 'localization-form' -%}
              <div>
                <h2 class="visually-hidden" id="HeaderCountryLabel">{{ 'localization.country_label' | t }}</h2>
                {%- render 'country-localization', localPosition: 'HeaderCountry' -%}
              </div>
            {%- endform -%}
          </localization-form>
        {% endif %}

        {%- if language_selector and section.settings.enable_language_selector -%}
          <localization-form>
            {%- form 'localization', id: 'HeaderLanguageForm', class: 'localization-form' -%}
              <div>
                <h2 class="visually-hidden" id="HeaderLanguageLabel">{{ 'localization.language_label' | t }}</h2>
                {%- render 'language-localization', localPosition: 'HeaderLanguage' -%}
              </div>
            {%- endform -%}
          </localization-form>
        {%- endif -%}
      </div>

      <a href="{{ 'pages/careers' | handle | page_url }}" class="header__cta-button">
        Apply Now
      </a>
    </div>
  </header>
</{% if section.settings.enable_sticky_header %}sticky-header{% else %}div{% endif %}>

{% schema %}
{
  "name": "t:sections.header.name",
  "class": "section-header",
  "max_blocks": 3,
  "settings": [
    {
      "type": "select",
      "id": "color_scheme",
      "options": [
        {
          "value": "accent-1",
          "label": "t:sections.all.colors.accent_1.label"
        },
        {
          "value": "accent-2",
          "label": "t:sections.all.colors.accent_2.label"
        },
        {
          "value": "background-1",
          "label": "t:sections.all.colors.background_1.label"
        },
        {
          "value": "background-2",
          "label": "t:sections.all.colors.background_2.label"
        },
        {
          "value": "inverse",
          "label": "t:sections.all.colors.inverse.label"
        }
      ],
      "default": "background-1",
      "label": "t:sections.all.colors.label"
    },
    {
      "type": "link_list",
      "id": "menu",
      "default": "main-menu",
      "label": "t:sections.header.settings.menu.label"
    },
    {
      "type": "select",
      "id": "menu_type_desktop",
      "options": [
        {
          "value": "dropdown",
          "label": "t:sections.header.settings.menu_type_desktop.options__1.label"
        },
        {
          "value": "mega",
          "label": "t:sections.header.settings.menu_type_desktop.options__2.label"
        },
        {
          "value": "drawer",
          "label": "t:sections.header.settings.menu_type_desktop.options__3.label"
        }
      ],
      "default": "dropdown",
      "label": "t:sections.header.settings.menu_type_desktop.label",
      "info": "t:sections.header.settings.menu_type_desktop.info"
    },
    {
      "type": "select",
      "id": "sticky_header_type",
      "options": [
        {
          "value": "none",
          "label": "t:sections.header.settings.sticky_header_type.options__1.label"
        },
        {
          "value": "on-scroll-up",
          "label": "t:sections.header.settings.sticky_header_type.options__2.label"
        },
        {
          "value": "always",
          "label": "t:sections.header.settings.sticky_header_type.options__3.label"
        },
        {
          "value": "reduce-logo-size",
          "label": "t:sections.header.settings.sticky_header_type.options__4.label"
        }
      ],
      "default": "on-scroll-up",
      "label": "t:sections.header.settings.sticky_header_type.label"
    },
    {
      "type": "checkbox",
      "id": "show_line_separator",
      "default": true,
      "label": "t:sections.header.settings.show_line_separator.label"
    },
    {
      "type": "select",
      "id": "logo_position",
      "options": [
        {
          "value": "middle-left",
          "label": "t:sections.header.settings.logo_position.options__1.label"
        },
        {
          "value": "top-left",
          "label": "t:sections.header.settings.logo_position.options__2.label"
        },
        {
          "value": "top-center",
          "label": "t:sections.header.settings.logo_position.options__3.label"
        }
      ],
      "default": "middle-left",
      "label": "t:sections.header.settings.logo_position.label",
      "info": "t:sections.header.settings.logo_position.info"
    },
    {
      "type": "select",
      "id": "menu_type_mobile",
      "options": [
        {
          "value": "drawer",
          "label": "t:sections.header.settings.menu_type_mobile.options__1.label"
        },
        {
          "value": "collapsible",
          "label": "t:sections.header.settings.menu_type_mobile.options__2.label"
        }
      ],
      "default": "drawer",
      "label": "t:sections.header.settings.menu_type_mobile.label"
    },
    {
      "type": "select",
      "id": "mobile_logo_position",
      "options": [
        {
          "value": "center",
          "label": "t:sections.header.settings.mobile_logo_position.options__1.label"
        },
        {
          "value": "left",
          "label": "t:sections.header.settings.mobile_logo_position.options__2.label"
        }
      ],
      "default": "center",
      "label": "t:sections.header.settings.mobile_logo_position.label"
    },
    {
      "type": "range",
      "id": "logo_width",
      "min": 50,
      "max": 250,
      "step": 10,
      "default": 100,
      "label": "t:sections.header.settings.logo_width.label"
    },
    {
      "type": "select",
      "id": "logo_hover_effect",
      "options": [
        {
          "value": "none",
          "label": "t:sections.header.settings.logo_hover_effect.options__1.label"
        },
        {
          "value": "rotate(5deg)",
          "label": "t:sections.header.settings.logo_hover_effect.options__2.label"
        }
      ],
      "default": "none",
      "label": "t:sections.header.settings.logo_hover_effect.label"
    },
    {
      "type": "checkbox",
      "id": "enable_country_selector",
      "default": true,
      "label": "t:sections.header.settings.enable_country_selector.label"
    },
    {
      "type": "checkbox",
      "id": "enable_language_selector",
      "default": true,
      "label": "t:sections.header.settings.enable_language_selector.label"
    },
    {
      "type": "checkbox",
      "id": "enable_customer_avatar",
      "default": true,
      "label": "t:sections.header.settings.enable_customer_avatar.label",
      "info": "t:sections.header.settings.enable_customer_avatar.info"
    },
    {
      "type": "checkbox",
      "id": "enable_sticky_header",
      "default": true,
      "label": "t:sections.header.settings.enable_sticky_header.label"
    }
  ]
}
{% endschema %}